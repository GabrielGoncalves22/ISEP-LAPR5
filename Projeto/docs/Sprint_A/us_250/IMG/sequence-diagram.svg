<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1328px" preserveAspectRatio="none" style="width:2514px;height:1328px;background:#FFFFFF;" version="1.1" viewBox="0 0 2514 1328" width="2514px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="27.6094" id="_title" style="stroke:none;stroke-width:1.0;" width="235" x="1138.75" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="225" x="1143.75" y="29.5332">Sequence Diagram (SD) - US 160</text><rect fill="#FFFFFF" height="1043.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="62.5" y="152.4375"/><rect fill="#FFFFFF" height="1021.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="354.5" y="174.7891"/><rect fill="#FFFFFF" height="960.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="559.5" y="205.1406"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="564.5" y="243.4922"/><rect fill="#FFFFFF" height="597.1016" style="stroke:#181818;stroke-width:1.0;" width="10" x="967.5" y="417.0234"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1103.5" y="533.4297"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1103.5" y="626.1328"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1226.5" y="447.375"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1226.5" y="693.4844"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1408.5" y="308.8438"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1408.5" y="723.8359"/><rect fill="#FFFFFF" height="182.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="1408.5" y="832.0156"/><rect fill="none" height="78.7031" style="stroke:#000000;stroke-width:1.5;" width="279.5" x="889" y="492.7266"/><rect fill="none" height="78.7031" style="stroke:#000000;stroke-width:1.5;" width="279.5" x="889" y="585.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="67" x2="67" y1="142.4375" y2="1214.0078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="359" x2="359" y1="142.4375" y2="1214.0078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="564.5" x2="564.5" y1="142.4375" y2="1214.0078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="746.5" x2="746.5" y1="365.7578" y2="1214.0078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="972" x2="972" y1="142.4375" y2="1214.0078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1108.5" x2="1108.5" y1="142.4375" y2="1214.0078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1231.5" x2="1231.5" y1="142.4375" y2="1214.0078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1413.5" x2="1413.5" y1="142.4375" y2="1214.0078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1794.5" x2="1794.5" y1="1040.6875" y2="1214.0078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1954.5" x2="1954.5" y1="142.4375" y2="1214.0078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2104.5" x2="2104.5" y1="142.4375" y2="1214.0078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2259.5" x2="2259.5" y1="780.75" y2="1214.0078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2423.5" x2="2423.5" y1="142.4375" y2="1214.0078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="5" y="139.3613">Gestor de Campus</text><ellipse cx="67.5" cy="73.3281" fill="#E3E3E3" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M67.5,81.3281 L67.5,108.3281 M54.5,89.3281 L80.5,89.3281 M67.5,108.3281 L54.5,123.3281 M67.5,108.3281 L80.5,123.3281 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="5" y="1227.541">Gestor de Campus</text><ellipse cx="67.5" cy="1239.1172" fill="#E3E3E3" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M67.5,1247.1172 L67.5,1274.1172 M54.5,1255.1172 L80.5,1255.1172 M67.5,1274.1172 L54.5,1289.1172 M67.5,1274.1172 L80.5,1289.1172 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="309" y="92.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="46" x="336.5" y="113.752">«Web»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="316" y="131.3613">buildingRoute</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="309" y="1213.0078"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="46" x="336.5" y="1234.541">«Web»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="316" y="1252.1504">buildingRoute</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="85" x="519" y="104.1426">«Controllers»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="487.5" y="121.752">passagewayController :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="493.5" y="139.3613">passagewayController</text><ellipse cx="564.5" cy="73.6094" fill="#E3E3E3" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="560.5,61.6094,566.5,56.6094,564.5,61.6094,566.5,66.6094,560.5,61.6094" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="85" x="519" y="1227.541">«Controllers»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="487.5" y="1245.1504">passagewayController :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="493.5" y="1262.7598">passagewayController</text><ellipse cx="564.5" cy="1281.8359" fill="#E3E3E3" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="560.5,1269.8359,566.5,1264.8359,564.5,1269.8359,566.5,1274.8359,560.5,1269.8359" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="681.5" y="1213.0078"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="46" x="723.5" y="1234.541">«DTO»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="688.5" y="1252.1504">passagewayDTO :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="694" y="1269.7598">PassagewayDTO</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147" x="899" y="74.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="85" x="930" y="96.1426">«Use Cases»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="906" y="113.752">passagewayService :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="912" y="131.3613">passagewayService</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147" x="899" y="1213.0078"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="85" x="930" y="1234.541">«Use Cases»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="906" y="1252.1504">passagewayService :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="912" y="1269.7598">passagewayService</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="1058.5" y="74.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="64" x="1076.5" y="96.1426">«Domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="1065.5" y="113.752">passageway :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1071.5" y="131.3613">passageway</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="1058.5" y="1213.0078"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="64" x="1076.5" y="1234.541">«Domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="1065.5" y="1252.1504">passageway :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1071.5" y="1269.7598">passageway</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="1189.5" y="104.1426">«Gateways»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1168.5" y="121.752">passagewayRepo :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1174.5" y="139.3613">passagewayRepo</text><path d="M1213.5,53.6094 C1213.5,43.6094 1231.5,43.6094 1231.5,43.6094 C1231.5,43.6094 1249.5,43.6094 1249.5,53.6094 L1249.5,79.6094 C1249.5,89.6094 1231.5,89.6094 1231.5,89.6094 C1231.5,89.6094 1213.5,89.6094 1213.5,79.6094 L1213.5,53.6094 " fill="#E3E3E3" style="stroke:#181818;stroke-width:1.5;"/><path d="M1213.5,53.6094 C1213.5,63.6094 1231.5,63.6094 1231.5,63.6094 C1231.5,63.6094 1249.5,63.6094 1249.5,53.6094 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="1189.5" y="1227.541">«Gateways»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1168.5" y="1245.1504">passagewayRepo :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1174.5" y="1262.7598">passagewayRepo</text><path d="M1213.5,1275.8359 C1213.5,1265.8359 1231.5,1265.8359 1231.5,1265.8359 C1231.5,1265.8359 1249.5,1265.8359 1249.5,1275.8359 L1249.5,1301.8359 C1249.5,1311.8359 1231.5,1311.8359 1231.5,1311.8359 C1231.5,1311.8359 1213.5,1311.8359 1213.5,1301.8359 L1213.5,1275.8359 " fill="#E3E3E3" style="stroke:#181818;stroke-width:1.5;"/><path d="M1213.5,1275.8359 C1213.5,1285.8359 1231.5,1285.8359 1231.5,1285.8359 C1231.5,1285.8359 1249.5,1285.8359 1249.5,1275.8359 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="1353.5" y="92.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="65" x="1381" y="113.752">«Mapper»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="1360.5" y="131.3613">PassagewayMap</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="1353.5" y="1213.0078"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="65" x="1381" y="1234.541">«Mapper»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="1360.5" y="1252.1504">PassagewayMap</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169" x="1710.5" y="1213.0078"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="46" x="1772" y="1234.541">«DTO»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="1717.5" y="1252.1504">savedPassagewayDTO :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="1757" y="1269.7598">BuildingDTO</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="1889.5" y="74.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="64" x="1922.5" y="96.1426">«Domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1896.5" y="113.752">passagewayData :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1917.5" y="131.3613">passageway</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="1889.5" y="1213.0078"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="64" x="1922.5" y="1234.541">«Domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1896.5" y="1252.1504">passagewayData :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1917.5" y="1269.7598">passageway</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="2029.5" y="74.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="35" x="2087.5" y="96.1426">«DB»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="2036.5" y="113.752">passagewaySchema :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="2042.5" y="131.3613">passagewaySchema</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="2029.5" y="1213.0078"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="35" x="2087.5" y="1234.541">«DB»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="2036.5" y="1252.1504">passagewaySchema :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="2042.5" y="1269.7598">passagewaySchema</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139" x="2190.5" y="1213.0078"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="64" x="2228" y="1234.541">«Domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="2197.5" y="1252.1504">savedPassageway :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2223" y="1269.7598">passageway</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169" x="2339.5" y="74.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="64" x="2392" y="96.1426">«Domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="2346.5" y="113.752">savedPassagewayData :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2387" y="131.3613">passageway</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169" x="2339.5" y="1213.0078"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="64" x="2392" y="1234.541">«Domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="2346.5" y="1252.1504">savedPassagewayData :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2387" y="1269.7598">passageway</text><rect fill="#FFFFFF" height="1043.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="62.5" y="152.4375"/><rect fill="#FFFFFF" height="1021.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="354.5" y="174.7891"/><rect fill="#FFFFFF" height="960.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="559.5" y="205.1406"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="564.5" y="243.4922"/><rect fill="#FFFFFF" height="597.1016" style="stroke:#181818;stroke-width:1.0;" width="10" x="967.5" y="417.0234"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1103.5" y="533.4297"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1103.5" y="626.1328"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1226.5" y="447.375"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1226.5" y="693.4844"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1408.5" y="308.8438"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1408.5" y="723.8359"/><rect fill="#FFFFFF" height="182.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="1408.5" y="832.0156"/><polygon fill="#181818" points="342.5,170.7891,352.5,174.7891,342.5,178.7891,346.5,174.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="72.5" x2="348.5" y1="174.7891" y2="174.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="79.5" y="169.9326">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="90.5" y="169.9326">PUT/PATCH (.../buildings/passageways/:id)</text><polygon fill="#181818" points="547.5,201.1406,557.5,205.1406,547.5,209.1406,551.5,205.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="364.5" x2="553.5" y1="205.1406" y2="205.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="371.5" y="200.2842">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="382.5" y="200.2842">updatePassageway(json, ...)</text><line style="stroke:#181818;stroke-width:1.0;" x1="574.5" x2="616.5" y1="235.4922" y2="235.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="616.5" x2="616.5" y1="235.4922" y2="248.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="575.5" x2="616.5" y1="248.4922" y2="248.4922"/><polygon fill="#181818" points="585.5,244.4922,575.5,248.4922,585.5,252.4922,581.5,248.4922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="581.5" y="230.6357">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="592.5" y="230.6357">validate(json)</text><polygon fill="#181818" points="1396.5,304.8438,1406.5,308.8438,1396.5,312.8438,1400.5,308.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="569.5" x2="1402.5" y1="308.8438" y2="308.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="576.5" y="303.9873">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="587.5" y="303.9873">toDTO(json)</text><polygon fill="#181818" points="822.5,335.1953,812.5,339.1953,822.5,343.1953,818.5,339.1953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="816.5" x2="1412.5" y1="339.1953" y2="339.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="828.5" y="334.3389">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="839.5" y="334.3389">create(json)</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="681.5" y="316.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="46" x="723.5" y="338.377">«DTO»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="688.5" y="355.9863">passagewayDTO :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="694" y="373.5957">PassagewayDTO</text><polygon fill="#181818" points="955.5,413.0234,965.5,417.0234,955.5,421.0234,959.5,417.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="569.5" x2="961.5" y1="417.0234" y2="417.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="576.5" y="412.167">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="368" x="587.5" y="412.167">savedPassagewayDTO = updatePassageway(passagewayDTO)</text><polygon fill="#181818" points="1214.5,443.375,1224.5,447.375,1214.5,451.375,1218.5,447.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="977.5" x2="1220.5" y1="447.375" y2="447.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="984.5" y="442.5186">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="995.5" y="442.5186">getPassageway(id)</text><polygon fill="#181818" points="1401.5,473.7266,1411.5,477.7266,1401.5,481.7266,1405.5,477.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1231.5" x2="1407.5" y1="477.7266" y2="477.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1238.5" y="472.8701">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="1249.5" y="472.8701">toDomain(passageway)</text><path d="M889,492.7266 L950,492.7266 L950,501.0781 L940,511.0781 L889,511.0781 L889,492.7266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="78.7031" style="stroke:#000000;stroke-width:1.5;" width="279.5" x="889" y="492.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="904" y="507.2217">alt</text><polygon fill="#181818" points="1091.5,529.4297,1101.5,533.4297,1091.5,537.4297,1095.5,533.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="977.5" x2="1097.5" y1="533.4297" y2="533.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="984.5" y="528.5732">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="995.5" y="528.5732">changeBuilding()</text><path d="M889,585.4297 L950,585.4297 L950,593.7813 L940,603.7813 L889,603.7813 L889,585.4297 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="78.7031" style="stroke:#000000;stroke-width:1.5;" width="279.5" x="889" y="585.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="904" y="599.9248">alt</text><polygon fill="#181818" points="1091.5,622.1328,1101.5,626.1328,1091.5,630.1328,1095.5,626.1328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="977.5" x2="1097.5" y1="626.1328" y2="626.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="984.5" y="621.2764">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="1002.5" y="621.2764">changeFloor()</text><polygon fill="#181818" points="1214.5,689.4844,1224.5,693.4844,1214.5,697.4844,1218.5,693.4844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="977.5" x2="1220.5" y1="693.4844" y2="693.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="984.5" y="688.6279">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="1002.5" y="688.6279">update(passageway)</text><polygon fill="#181818" points="1396.5,719.8359,1406.5,723.8359,1396.5,727.8359,1400.5,723.8359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1236.5" x2="1402.5" y1="723.8359" y2="723.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1243.5" y="718.9795">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="1261.5" y="718.9795">toDomain(passageway)</text><polygon fill="#181818" points="2178.5,750.1875,2188.5,754.1875,2178.5,758.1875,2182.5,754.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1413.5" x2="2184.5" y1="754.1875" y2="754.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1420.5" y="749.3311">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="1438.5" y="749.3311">create(passageway, id)</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139" x="2190.5" y="731.8359"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="64" x="2228" y="753.3691">«Domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="2197.5" y="770.9785">savedPassageway :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2223" y="788.5879">passageway</text><polygon fill="#181818" points="1396.5,828.0156,1406.5,832.0156,1396.5,836.0156,1400.5,832.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="977.5" x2="1402.5" y1="832.0156" y2="832.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="984.5" y="827.1592">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="1002.5" y="827.1592">savedPassagewayDTO = toDTO(savedPassageway)</text><polygon fill="#181818" points="2248,858.3672,2258,862.3672,2248,866.3672,2252,862.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1418.5" x2="2254" y1="862.3672" y2="862.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1425.5" y="857.5107">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1443.5" y="857.5107">id = id()</text><polygon fill="#181818" points="2248,888.7188,2258,892.7188,2248,896.7188,2252,892.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1418.5" x2="2254" y1="892.7188" y2="892.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1425.5" y="887.8623">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="1443.5" y="887.8623">building1 = building1()</text><polygon fill="#181818" points="2248,919.0703,2258,923.0703,2248,927.0703,2252,923.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1418.5" x2="2254" y1="923.0703" y2="923.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1425.5" y="918.2139">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="1443.5" y="918.2139">floor1 = floor1()</text><polygon fill="#181818" points="2248,949.4219,2258,953.4219,2248,957.4219,2252,953.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1418.5" x2="2254" y1="953.4219" y2="953.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1425.5" y="948.5654">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="1443.5" y="948.5654">building2 = building2()</text><polygon fill="#181818" points="2248,979.7734,2258,983.7734,2248,987.7734,2252,983.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1418.5" x2="2254" y1="983.7734" y2="983.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1425.5" y="978.917">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="1443.5" y="978.917">floor2 = floor2()</text><polygon fill="#181818" points="1698.5,1010.125,1708.5,1014.125,1698.5,1018.125,1702.5,1014.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1413.5" x2="1704.5" y1="1014.125" y2="1014.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1420.5" y="1009.2686">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="1438.5" y="1009.2686">create(id, building1, floor1, building2, floor2)</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169" x="1710.5" y="991.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="46" x="1772" y="1013.3066">«DTO»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="1717.5" y="1030.916">savedPassagewayDTO :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="1757" y="1048.5254">BuildingDTO</text><polygon fill="#181818" points="1401.5,1087.9531,1411.5,1091.9531,1401.5,1095.9531,1405.5,1091.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="569.5" x2="1407.5" y1="1091.9531" y2="1091.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="576.5" y="1087.0967">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="594.5" y="1087.0967">json = toJson(savedPassagewayDTO)</text><line style="stroke:#181818;stroke-width:1.0;" x1="569.5" x2="611.5" y1="1122.3047" y2="1122.3047"/><line style="stroke:#181818;stroke-width:1.0;" x1="611.5" x2="611.5" y1="1122.3047" y2="1135.3047"/><line style="stroke:#181818;stroke-width:1.0;" x1="570.5" x2="611.5" y1="1135.3047" y2="1135.3047"/><polygon fill="#181818" points="580.5,1131.3047,570.5,1135.3047,580.5,1139.3047,576.5,1135.3047" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="576.5" y="1117.4482">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="594.5" y="1117.4482">generateResponse(json)</text><polygon fill="#181818" points="375.5,1161.6563,365.5,1165.6563,375.5,1169.6563,371.5,1165.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="369.5" x2="563.5" y1="1165.6563" y2="1165.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="381.5" y="1160.7998">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="399.5" y="1160.7998">response</text><polygon fill="#181818" points="78.5,1192.0078,68.5,1196.0078,78.5,1200.0078,74.5,1196.0078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="72.5" x2="358.5" y1="1196.0078" y2="1196.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="84.5" y="1191.1514">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="102.5" y="1191.1514">response</text><!--MD5=[681344c742e2fa1ce6597b3c610948fd]
@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

title Sequence Diagram (SD) - US 160
autonumber

actor "Gestor de Campus" as actor
participant buildingRoute as route <<Web>>
control "passagewayController :\n passagewayController" as controller <<Controllers>>
participant "passagewayDTO :\n PassagewayDTO" as passagewayDTO <<DTO>>
participant "passagewayService :\n passagewayService" as passagewayService <<Use Cases>>
participant "passageway :\n passageway" as passageway <<Domain>>
database "passagewayRepo :\n passagewayRepo" as passagewayRepo <<Gateways>>
participant PassagewayMap as passagewayMap <<Mapper>>
participant "savedPassagewayDTO :\n BuildingDTO" as savedPassagewayDTO <<DTO>>
participant "passagewayData :\n passageway" as passagewayData <<Domain>>
participant "passagewaySchema :\n passagewaySchema" as passagewaySchema <<DB>>
participant "savedPassageway :\n passageway" as savedPassageway <<Domain>>
participant "savedPassagewayData :\n passageway" as savedPassagewayData <<Domain>>

activate actor

    actor -> route : PUT/PATCH (.../buildings/passageways/:id)
    activate route

        route -> controller : updatePassageway(json, ...)
        activate controller
            controller -> controller : validate(json)
            activate controller
            deactivate controller

            controller -> passagewayMap : toDTO(json)
            activate passagewayMap
                passagewayMap - -> passagewayDTO** : create(json)
            deactivate passagewayMap

            controller -> passagewayService : savedPassagewayDTO = updatePassageway(passagewayDTO)
            activate passagewayService
                passagewayService - -> passagewayRepo : getPassageway(id)
                activate passagewayRepo
                    passagewayRepo - -> passagewayMap : toDomain(passageway)
                deactivate passagewayRepo

                alt
                    passagewayService - -> passageway : changeBuilding()
                    activate passageway
                    deactivate passageway
                end

                alt
                    passagewayService - -> passageway : changeFloor()
                    activate passageway
                    deactivate passageway
                end


                passagewayService -> passagewayRepo : update(passageway)
                activate passagewayRepo
                    passagewayRepo -> passagewayMap : toDomain(passageway)
                    activate passagewayMap
                        passagewayMap - -> savedPassageway** : create(passageway, id)
                    deactivate passagewayMap
                deactivate passagewayRepo

                passagewayService -> passagewayMap : savedPassagewayDTO = toDTO(savedPassageway)
                activate passagewayMap
                    passagewayMap -> savedPassageway : id = id()
                    passagewayMap -> savedPassageway : building1 = building1()
                    passagewayMap -> savedPassageway : floor1 = floor1()
                    passagewayMap -> savedPassageway : building2 = building2()
                    passagewayMap -> savedPassageway : floor2 = floor2()
                    passagewayMap -> savedPassagewayDTO** : create(id, building1, floor1, building2, floor2)
                deactivate passagewayMap

            deactivate passagewayService

            controller -> passagewayMap : json = toJson(savedPassagewayDTO)
            controller -> controller : generateResponse(json)
            
            controller - -> route : response
        deactivate controller
        route - -> actor : response
    deactivate route
deactivate actor

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>