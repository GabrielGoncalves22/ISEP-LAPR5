<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="749px" preserveAspectRatio="none" style="width:1066px;height:749px;background:#FFFFFF;" version="1.1" viewBox="0 0 1066 749" width="1066px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="27.6094" id="_title" style="stroke:none;stroke-width:1.0;" width="410" x="327" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="400" x="332" y="29.5332">Sequence Diagram (Level 3 - Process View - MD) - US 100</text><rect fill="#FFFFFF" height="515.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="171" y="143.7891"/><rect fill="#FFFFFF" height="454.8203" style="stroke:#181818;stroke-width:1.0;" width="10" x="342" y="174.1406"/><rect fill="#FFFFFF" height="379.1172" style="stroke:#181818;stroke-width:1.0;" width="10" x="347" y="212.4922"/><rect fill="#FFFFFF" height="229.5859" style="stroke:#181818;stroke-width:1.0;" width="10" x="662" y="325.6719"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="894" y="433.8516"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1009" y="464.2031"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="176" x2="176" y1="111.4375" y2="677.3125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="347" x2="347" y1="111.4375" y2="677.3125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="542" x2="542" y1="274.4063" y2="677.3125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="667" x2="667" y1="111.4375" y2="677.3125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="791" x2="791" y1="382.5859" y2="677.3125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="899" x2="899" y1="111.4375" y2="677.3125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1014" x2="1014" y1="111.4375" y2="677.3125"/><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="136" y="61.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="149" y="82.752">«Route»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="143" y="100.3613">userRoute</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="136" y="676.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="149" y="697.8457">«Route»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="143" y="715.4551">userRoute</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="291" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="308" y="65.1426">«Controller»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="333.5" y="82.752">ctrl :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="302" y="100.3613">IUserController</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="291" y="676.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="308" y="697.8457">«Controller»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="333.5" y="715.4551">ctrl :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="302" y="733.0645">IUserController</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="502" y="676.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="46" x="519" y="697.8457">«DTO»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="509" y="715.4551">userDTO :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="513" y="733.0645">IUserDTO</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="592" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="636" y="65.1426">«Service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="599" y="82.752">userServiceInstance :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="629.5" y="100.3613">IUserService</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="592" y="676.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="636" y="697.8457">«Service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="599" y="715.4551">userServiceInstance :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="629.5" y="733.0645">IUserService</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="752" y="676.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="64" x="759" y="697.8457">«Domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="773" y="715.4551">user :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="779" y="733.0645">user</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="840" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="857" y="65.1426">«Repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="864" y="82.752">userRepo :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="851" y="100.3613">IUserRepository</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="840" y="676.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="857" y="697.8457">«Repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="864" y="715.4551">userRepo :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="851" y="733.0645">IUserRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="968" y="61.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="975" y="82.752">«DataBase»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="19" x="1004.5" y="100.3613">DB</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="968" y="676.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="975" y="697.8457">«DataBase»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="19" x="1004.5" y="715.4551">DB</text><rect fill="#FFFFFF" height="515.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="171" y="143.7891"/><rect fill="#FFFFFF" height="454.8203" style="stroke:#181818;stroke-width:1.0;" width="10" x="342" y="174.1406"/><rect fill="#FFFFFF" height="379.1172" style="stroke:#181818;stroke-width:1.0;" width="10" x="347" y="212.4922"/><rect fill="#FFFFFF" height="229.5859" style="stroke:#181818;stroke-width:1.0;" width="10" x="662" y="325.6719"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="894" y="433.8516"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1009" y="464.2031"/><ellipse cx="4.5" cy="143.0391" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="159,139.7891,169,143.7891,159,147.7891,163,143.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="9" x2="165" y1="143.7891" y2="143.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="12" y="138.9326">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="23" y="138.9326">POST (.../users/profile)</text><polygon fill="#181818" points="330,170.1406,340,174.1406,330,178.1406,334,174.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="181" x2="336" y1="174.1406" y2="174.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="188" y="169.2842">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="199" y="169.2842">execute(req, res, next)</text><line style="stroke:#181818;stroke-width:1.0;" x1="352" x2="399" y1="199.4922" y2="199.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="399" x2="399" y1="199.4922" y2="212.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="358" x2="399" y1="212.4922" y2="212.4922"/><polygon fill="#181818" points="368,208.4922,358,212.4922,368,216.4922,364,212.4922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="364" y="194.6357">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="375" y="194.6357">updateProfile(req, res, next)</text><polygon fill="#181818" points="490,243.8438,500,247.8438,490,251.8438,494,247.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="357" x2="496" y1="247.8438" y2="247.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="364" y="242.9873">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="375" y="242.9873">create</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="502" y="225.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="46" x="519" y="247.0254">«DTO»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="509" y="264.6348">userDTO :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="513" y="282.2441">IUserDTO</text><polygon fill="#181818" points="650,321.6719,660,325.6719,650,329.6719,654,325.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="357" x2="656" y1="325.6719" y2="325.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="364" y="320.8154">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="375" y="320.8154">updateProfile(userId, userDTO)</text><polygon fill="#181818" points="740,352.0234,750,356.0234,740,360.0234,744,356.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="672" x2="746" y1="356.0234" y2="356.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="679" y="351.167">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="690" y="351.167">create</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="752" y="333.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="64" x="759" y="355.2051">«Domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="773" y="372.8145">user :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="779" y="390.4238">user</text><polygon fill="#181818" points="882,429.8516,892,433.8516,882,437.8516,886,433.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="672" x2="888" y1="433.8516" y2="433.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="679" y="428.9951">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="690" y="428.9951">save(user)</text><polygon fill="#181818" points="997,460.2031,1007,464.2031,997,468.2031,1001,464.2031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="904" x2="1003" y1="464.2031" y2="464.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="911" y="459.3467">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="922" y="459.3467">save(user)</text><polygon fill="#181818" points="915,490.5547,905,494.5547,915,498.5547,911,494.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="909" x2="1013" y1="494.5547" y2="494.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="921" y="489.6982">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="932" y="489.6982"> </text><polygon fill="#181818" points="683,520.9063,673,524.9063,683,528.9063,679,524.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="677" x2="898" y1="524.9063" y2="524.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="689" y="520.0498">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="707" y="520.0498"> </text><polygon fill="#181818" points="368,551.2578,358,555.2578,368,559.2578,364,555.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="362" x2="666" y1="555.2578" y2="555.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="374" y="550.4014">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="392" y="550.4014"> </text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="357" x2="399" y1="590.6094" y2="590.6094"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="399" x2="399" y1="590.6094" y2="603.6094"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="352" x2="399" y1="603.6094" y2="603.6094"/><polygon fill="#181818" points="362,599.6094,352,603.6094,362,607.6094,358,603.6094" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="364" y="585.7529">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="382" y="585.7529">status: 201/400</text><polygon fill="#181818" points="192,624.9609,182,628.9609,192,632.9609,188,628.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="186" x2="346" y1="628.9609" y2="628.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="198" y="624.1045">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="216" y="624.1045">status: 201/400</text><polygon fill="#181818" points="11,655.3125,1,659.3125,11,663.3125,7,659.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="175" y1="659.3125" y2="659.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="17" y="654.4561">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="35" y="654.4561">status: 201/400</text><!--MD5=[ab6634a247db6afc768afe9658d52438]
@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

title Sequence Diagram (Level 3 - Process View - MD) - US 100
autonumber

participant "userRoute" as Route <<Route>>
participant "ctrl :\n IUserController" as Controller <<Controller>>
participant "userDTO :\n IUserDTO" as UserDTO <<DTO>>
participant "userServiceInstance :\n IUserService" as Service <<Service>>
participant "user :\n user" as User <<Domain>>
participant "userRepo :\n IUserRepository" as Repo <<Repository>>
participant "DB" as DB <<DataBase>>

?o-> Route : POST (.../users/profile)
activate Route

    Route -> Controller : execute(req, res, next)
    activate Controller
        Controller -> Controller : updateProfile(req, res, next)
        activate Controller
            Controller - -> UserDTO** : create
            Controller -> Service : updateProfile(userId, userDTO)

            activate Service
                Service - -> User** : create
                Service -> Repo : save(user)
                activate Repo
                    Repo -> DB : save(user)
                    activate DB
                    DB - -> Repo :
                    deactivate DB
                    Repo - -> Service :
                deactivate Repo
                Service - -> Controller :
            deactivate Service

            Controller - -> Controller : status: 201/400
        deactivate Controller
    Controller - -> Route : status: 201/400
    deactivate Controller

<- - Route : status: 201/400
deactivate Route

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>