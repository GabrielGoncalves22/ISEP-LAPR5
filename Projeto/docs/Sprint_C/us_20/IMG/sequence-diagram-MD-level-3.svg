<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="749px" preserveAspectRatio="none" style="width:1043px;height:749px;background:#FFFFFF;" version="1.1" viewBox="0 0 1043 749" width="1043px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="27.6094" id="_title" style="stroke:none;stroke-width:1.0;" width="402" x="319.5" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="392" x="324.5" y="29.5332">Sequence Diagram (Level 3 - Process View - MD) - US 20</text><rect fill="#FFFFFF" height="515.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="180" y="143.7891"/><rect fill="#FFFFFF" height="454.8203" style="stroke:#181818;stroke-width:1.0;" width="10" x="351" y="174.1406"/><rect fill="#FFFFFF" height="379.1172" style="stroke:#181818;stroke-width:1.0;" width="10" x="356" y="212.4922"/><rect fill="#FFFFFF" height="229.5859" style="stroke:#181818;stroke-width:1.0;" width="10" x="639" y="325.6719"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="871" y="433.8516"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="464.2031"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="185" x2="185" y1="111.4375" y2="677.3125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="356" x2="356" y1="111.4375" y2="677.3125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="519" x2="519" y1="274.4063" y2="677.3125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="644" x2="644" y1="111.4375" y2="677.3125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="768" x2="768" y1="382.5859" y2="677.3125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="876" x2="876" y1="111.4375" y2="677.3125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="991" x2="991" y1="111.4375" y2="677.3125"/><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="145" y="61.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="158" y="82.752">«Route»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="152" y="100.3613">userRoute</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="145" y="676.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="158" y="697.8457">«Route»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="152" y="715.4551">userRoute</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="300" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="317" y="65.1426">«Controller»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="342.5" y="82.752">ctrl :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="311" y="100.3613">IUserController</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="300" y="676.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="317" y="697.8457">«Controller»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="342.5" y="715.4551">ctrl :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="311" y="733.0645">IUserController</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="479" y="676.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="46" x="496" y="697.8457">«DTO»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="486" y="715.4551">userDTO :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="490" y="733.0645">IUserDTO</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="569" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="613" y="65.1426">«Service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="576" y="82.752">userServiceInstance :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="606.5" y="100.3613">IUserService</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="569" y="676.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="613" y="697.8457">«Service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="576" y="715.4551">userServiceInstance :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="606.5" y="733.0645">IUserService</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="729" y="676.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="64" x="736" y="697.8457">«Domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="750" y="715.4551">user :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="756" y="733.0645">user</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="817" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="834" y="65.1426">«Repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="841" y="82.752">userRepo :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="828" y="100.3613">IUserRepository</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="817" y="676.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="834" y="697.8457">«Repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="841" y="715.4551">userRepo :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="828" y="733.0645">IUserRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="945" y="61.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="952" y="82.752">«DataBase»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="19" x="981.5" y="100.3613">DB</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="945" y="676.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="952" y="697.8457">«DataBase»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="19" x="981.5" y="715.4551">DB</text><rect fill="#FFFFFF" height="515.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="180" y="143.7891"/><rect fill="#FFFFFF" height="454.8203" style="stroke:#181818;stroke-width:1.0;" width="10" x="351" y="174.1406"/><rect fill="#FFFFFF" height="379.1172" style="stroke:#181818;stroke-width:1.0;" width="10" x="356" y="212.4922"/><rect fill="#FFFFFF" height="229.5859" style="stroke:#181818;stroke-width:1.0;" width="10" x="639" y="325.6719"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="871" y="433.8516"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="464.2031"/><ellipse cx="4.5" cy="143.0391" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="168,139.7891,178,143.7891,168,147.7891,172,143.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="9" x2="174" y1="143.7891" y2="143.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="12" y="138.9326">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="23" y="138.9326">POST (.../users/register)</text><polygon fill="#181818" points="339,170.1406,349,174.1406,339,178.1406,343,174.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="190" x2="345" y1="174.1406" y2="174.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="197" y="169.2842">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="208" y="169.2842">execute(req, res, next)</text><line style="stroke:#181818;stroke-width:1.0;" x1="361" x2="408" y1="199.4922" y2="199.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="408" x2="408" y1="199.4922" y2="212.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="367" x2="408" y1="212.4922" y2="212.4922"/><polygon fill="#181818" points="377,208.4922,367,212.4922,377,216.4922,373,212.4922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="373" y="194.6357">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="384" y="194.6357">register(req, res, next)</text><polygon fill="#181818" points="467,243.8438,477,247.8438,467,251.8438,471,247.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="366" x2="473" y1="247.8438" y2="247.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="373" y="242.9873">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="384" y="242.9873">create</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="479" y="225.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="46" x="496" y="247.0254">«DTO»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="486" y="264.6348">userDTO :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="490" y="282.2441">IUserDTO</text><polygon fill="#181818" points="627,321.6719,637,325.6719,627,329.6719,631,325.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="366" x2="633" y1="325.6719" y2="325.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="373" y="320.8154">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="384" y="320.8154">register(userDTO)</text><polygon fill="#181818" points="717,352.0234,727,356.0234,717,360.0234,721,356.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="649" x2="723" y1="356.0234" y2="356.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="656" y="351.167">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="667" y="351.167">create</text><rect fill="#E3E3E3" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="729" y="333.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="64" x="736" y="355.2051">«Domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="750" y="372.8145">user :</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="756" y="390.4238">user</text><polygon fill="#181818" points="859,429.8516,869,433.8516,859,437.8516,863,433.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="649" x2="865" y1="433.8516" y2="433.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="656" y="428.9951">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="667" y="428.9951">save(user)</text><polygon fill="#181818" points="974,460.2031,984,464.2031,974,468.2031,978,464.2031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="881" x2="980" y1="464.2031" y2="464.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="888" y="459.3467">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="899" y="459.3467">save(user)</text><polygon fill="#181818" points="892,490.5547,882,494.5547,892,498.5547,888,494.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="886" x2="990" y1="494.5547" y2="494.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="898" y="489.6982">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="909" y="489.6982"> </text><polygon fill="#181818" points="660,520.9063,650,524.9063,660,528.9063,656,524.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="654" x2="875" y1="524.9063" y2="524.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="666" y="520.0498">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="684" y="520.0498"> </text><polygon fill="#181818" points="377,551.2578,367,555.2578,377,559.2578,373,555.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="371" x2="643" y1="555.2578" y2="555.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="383" y="550.4014">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="401" y="550.4014"> </text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="366" x2="408" y1="590.6094" y2="590.6094"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="408" x2="408" y1="590.6094" y2="603.6094"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="361" x2="408" y1="603.6094" y2="603.6094"/><polygon fill="#181818" points="371,599.6094,361,603.6094,371,607.6094,367,603.6094" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="373" y="585.7529">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="391" y="585.7529">status: 201/400</text><polygon fill="#181818" points="201,624.9609,191,628.9609,201,632.9609,197,628.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="195" x2="355" y1="628.9609" y2="628.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="207" y="624.1045">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="225" y="624.1045">status: 201/400</text><polygon fill="#181818" points="11,655.3125,1,659.3125,11,663.3125,7,659.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="184" y1="659.3125" y2="659.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="17" y="654.4561">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="35" y="654.4561">status: 201/400</text><!--MD5=[5be41cef32a5355f3bf9938244a59693]
@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

title Sequence Diagram (Level 3 - Process View - MD) - US 20
autonumber

participant "userRoute" as Route <<Route>>
participant "ctrl :\n IUserController" as Controller <<Controller>>
participant "userDTO :\n IUserDTO" as UserDTO <<DTO>>
participant "userServiceInstance :\n IUserService" as Service <<Service>>
participant "user :\n user" as User <<Domain>>
participant "userRepo :\n IUserRepository" as Repo <<Repository>>
participant "DB" as DB <<DataBase>>

?o-> Route : POST (.../users/register)
activate Route

    Route -> Controller : execute(req, res, next)
    activate Controller
        Controller -> Controller : register(req, res, next)
        activate Controller
            Controller - -> UserDTO** : create
            Controller -> Service : register(userDTO)

            activate Service
                Service - -> User** : create
                Service -> Repo : save(user)
                activate Repo
                    Repo -> DB : save(user)
                    activate DB
                    DB - -> Repo :
                    deactivate DB
                    Repo - -> Service :
                deactivate Repo
                Service - -> Controller :
            deactivate Service

            Controller - -> Controller : status: 201/400
        deactivate Controller
    Controller - -> Route : status: 201/400
    deactivate Controller

<- - Route : status: 201/400
deactivate Route

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>